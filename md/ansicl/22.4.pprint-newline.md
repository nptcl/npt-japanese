% Function PPRINT-NEWLINE

[UP](22.4.html)  

---

# Function **PPRINT-NEWLINE**


Function `PPRINT-NEWLINE`


## 構文

`pprint-newline` *kind* `&optional` *stream* => [`nil`](5.3.nil-variable.html)


## 引数と戻り値

*kind* - `:linear`, `:fill`, `:miser`, `:mandatory`のうちのひとつ  
*stream* - ストリーム指定子。デフォルトは標準出力。


## 定義

もし*stream*がプリティプリントのストリームであり、
`*print-pretty*`の値が*true*のとき、
下記の示す適切な状況である場合は改行が挿入されます。
それ以外のときは、[`pprint-newline`](22.4.pprint-newline.html)は効果を持ちません。

*kind*は条件付き改行のスタイルを指定します。
このパラメーターは下記のように扱われます。

- `:linear`
  - 「線形スタイル」の条件付き改行を指定します。
    もし直前に含まれるセクションが一行で印刷できないときのみ、
    改行が挿入されます。
    その結果、論理ブロック内のすべての線形スタイルの条件付き改行で
    改行が行われるか、あるいは全く改行されないかのどちらかになります。

- `:miser`
  - 「マイザースタイル」の条件付き改行を指定します。
    もし直前に含まれるセクションが一行で印刷できず、
    かつ直前に含まれる論理ブロックが
    マイザースタイルの効果を持っているときのみ、
    改行が挿入されます。
    その結果、マイザースタイルの条件付き改行は
    線形スタイルの条件付き改行と似た動作をしますが、
    ただマイザースタイルの効果を持ったもののみ出力を行います。
    論理ブロックのマイザースタイルは、
    論理ブロックの開始位置が左マージンから
    `*print-miser-width*` `ems`以下のときのみ効果を持ちます。

- `:fill`
  - 「フィルスタイル」の条件付き改行を指定します。
    もし下記のいずれかの状況の場合に改行が挿入されます。
      - (a) 後に続くセクションが現在の行の終わりに印刷できないとき。
      - (b) 前のセクションが一行で印刷できないとき。
      - (c) 直前に含まれるセクションが一行で印刷できず、
        かつ直前に含まれる論理ブロックがマイザースタイルの効果を持っている。
  - もし論理ブロックがフィルスタイルの条件付き改行によって
    いくつかのサブセクションに分割されるとき、
    基本的な効果は、論理ブロックが各行にできるだけ多くの
    サブセクションを持つように印刷することです。

- `:mandatory`
  - 「強制スタイル」の条件付き改行を指定します。
    改行は常に挿入されます。
    これは暗に一行で印刷できるセクションが存在せず、
    したがってこれらのセクション内のにある
    線形スタイルの条件付き改行が
    改行を挿入するトリガーになることを意味します。

何らかのタイプの条件付き改行によって改行が挿入されたとき、
先行する条件付き改行の直前の空白は出力から省かれ、
次の行の先頭にインデントが挿入されます。
標準では、インデントは
 直前に含まれる論理ブロック内の最初の文字と同じ水平位置から始まるように、
次の行の開始位置を調整します
（インデントは[`pprint-indent`](22.4.pprint-indent.html)によって変更できます）。

条件付きではない改行は様々あり、その出力を行うことができます
（例えば[`terpri`](21.2.terpri.html)や文字列に含まれる改行文字の出力など）。
強制スタイルの条件付き改行と同様に、
これを含むセクションが一行に印刷されないようにすることができます。
一般的に、条件付きではない改行に遭遇したとき、
前に現れる空白を抑制し、続くインデントを行わずに出力します。
しかしもし`:per-line-prefix`が指定されたとき
（[`pprint-logical-block`](22.4.pprint-logical-block.html)を参照）、
このプレフィックスは改行がどのように発生しても常に表示されます。


## 例文

22.2.2. プリティプリンターの使用例


## 副作用

*stream*へ出力を行います。


## 影響

`*print-pretty*`,
`*print-miser-width*`。
論理ブロックに含まれる存在。
改行と条件付き改行の場所。


## 例外

*kind*が`:linear`, `:fill`, `:miser`, `:mandatory`のどれでもないときは、
型[`type-error`](4.4.type-error.html)のエラーが発生します。


## 参考

22.3.5.1. チルダ`_`: {conditional-newline},
22.2.2. プリティプリンターの使用例


## 備考

なし。


---
[TOP](index.html),  [Github](https://github.com/nptcl/npt-japanese)

